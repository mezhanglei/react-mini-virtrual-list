module.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/concat")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/define-property")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/define-properties")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/array/is-array")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/assertThisInitialized")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/index-of")},function(e,t,r){"use strict";r.r(t);var i,o,n,s,l,a=r(12),c=r.n(a),u=r(13),d=r.n(u),f=r(6),h=r.n(f),p=r(7),m=r.n(p),S=r(8),v=r.n(S),g=r(14),z=r.n(g),b=r(9),x=r.n(b),y=r(15),I=r.n(y),j=r(3),M=r.n(j),P=r(16),A=r.n(P),k=r(0),O=r.n(k),q=r(17),w=r.n(q),C=r(2),T=r.n(C),N=r(4),D=r.n(N),F=r(5),R=r.n(F),G=r(18),L=r.n(G),E=r(19),_=r.n(E),U=r(20),V=r.n(U),W=r(10),B=r.n(W),H=r(1),J="start",K="center",Q="end",X="horizontal",Y="vertical",Z="observed",$="requested",ee=(i={},O()(i,Y,"scrollTop"),O()(i,X,"scrollLeft"),i),te=(o={},O()(o,Y,"height"),O()(o,X,"width"),o),re=(n={},O()(n,Y,"top"),O()(n,X,"left"),n),ie=(s={},O()(s,Y,"marginTop"),O()(s,X,"marginLeft"),l={},O()(l,Y,"marginBottom"),O()(l,X,"marginRight"),function(){function e(t){var r=t.limit,i=t.dataSource,o=t.itemSizeGetter,n=t.estimatedItemSize;D()(this,e),this.itemSizeGetter=o,this.limit=Math.min(r,(null==i?void 0:i.length)||0),this.estimatedItemSize=n,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return R()(e,[{key:"updateConfig",value:function(e){var t=e.limit,r=e.itemSizeGetter,i=e.dataSource,o=e.estimatedItemSize;null!=t&&(this.limit=Math.min(t,(null==i?void 0:i.length)||0)),null!=o&&(this.estimatedItemSize=o),null!=r&&(this.itemSizeGetter=r)}},{key:"getLastMeasuredIndex",value:function(){return this.lastMeasuredIndex}},{key:"getSizeAndPositionForIndex",value:function(e){var t;if(e<0||e>=this.limit)return console.warn(T()(t="Requested index ".concat(e," is outside of range [0, ")).call(t,this.limit,"]")),{offset:0,size:0};if(e>this.lastMeasuredIndex){for(var r=this.getSizeAndPositionOfLastMeasuredItem(),i=r.offset+r.size,o=this.lastMeasuredIndex+1;o<=e;o++){var n,s=this.itemSizeGetter(o);if(null==s||isNaN(s))throw Error(T()(n="Invalid size returned for index ".concat(o," of value ")).call(n,s));this.itemSizeAndPositionData[o]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredItem",value:function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.limit-this.lastMeasuredIndex-1)*this.estimatedItemSize}},{key:"getUpdatedScrollForIndex",value:function(e){var t=e.align,r=void 0===t?J:t,i=e.containerSize,o=e.currentOffset,n=e.targetIndex;if(i<=0||this.limit<=0)return 0;var s,l=this.getSizeAndPositionForIndex(n),a=l.offset,c=a-i+l.size;switch(r){case Q:s=c;break;case K:s=a-(i-l.size)/2;break;case J:s=a;break;default:s=Math.max(c,Math.min(a,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-i,s))}},{key:"getVisibleRange",value:function(e){var t=e.containerSize,r=e.scrollSize,i=e.overscanCount;if(0===this.getTotalSize()||this.limit<=0)return{};var o=r+t,n=this.findNearestItem(r);if(void 0===n)throw Error("Invalid scrollSize ".concat(r," specified"));var s=n;for(r=this.getSizeAndPositionForIndex(n).size+r;r<o&&s<this.limit-1;)s++,r+=this.getSizeAndPositionForIndex(s).size;return i&&(n=Math.max(0,n-i),s=Math.min(s+i,this.limit-1)),{start:n,stop:s}}},{key:"resetItem",value:function(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}},{key:"findNearestItem",value:function(e){if(isNaN(e))throw Error("Invalid scrollSize ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,scrollSize:e}):this.exponentialSearch({index:r,scrollSize:e})}},{key:"binarySearch",value:function(e){for(var t=e.low,r=e.high,i=e.scrollSize,o=0,n=0;t<=r;){if(o=t+Math.floor((r-t)/2),(n=this.getSizeAndPositionForIndex(o).offset)===i)return o;n<i?t=o+1:n>i&&(r=o-1)}return t>0?t-1:0}},{key:"exponentialSearch",value:function(e){for(var t=e.index,r=e.scrollSize,i=1;t<this.limit&&this.getSizeAndPositionForIndex(t).offset<r;)t+=i,i*=2;return this.binarySearch({high:Math.min(t,this.limit-1),low:Math.floor(t/2),scrollSize:r})}}]),e}());r(21),r(11);function oe(e){return Object.prototype.toString.call(e)}function ne(e,t){var r=I()(e);if(x.a){var i=x()(e);t&&(i=z()(i).call(i,(function(t){return v()(e,t).enumerable}))),r.push.apply(r,i)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r,i=null!=arguments[t]?arguments[t]:{};if(t%2)m()(r=ne(Object(i),!0)).call(r,(function(t){O()(e,t,i[t])}));else if(h.a)d()(e,h()(i));else{var o;m()(o=ne(Object(i))).call(o,(function(t){c()(e,t,v()(i,t))}))}}return e}function le(e){var t=function(){if("undefined"==typeof Reflect||!M.a)return!1;if(M.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(M()(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=B()(e);if(t){var o=B()(this).constructor;r=M()(i,arguments,o)}else r=i.apply(this,arguments);return V()(this,r)}}var ae={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},ce={position:"relative",width:"100%",minHeight:"100%"},ue={position:"absolute",top:0,left:0,width:"100%"},de=function(e){_()(r,e);var t=le(r);function r(){var e,i;D()(this,r);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(i=t.call.apply(t,T()(e=[this]).call(e,n))).itemSizeGetter=function(e){return function(t){return"function"==typeof e?e(t):w()(e)?e[t]:e}},i.sizeAndPositionManager=new ie({limit:i.props.limit,dataSource:i.props.dataSource,itemSizeGetter:i.itemSizeGetter(i.props.itemSize),estimatedItemSize:i.props.estimatedItemSize}),i.state={scrollSize:i.props.scrollOffset||null!=i.props.scrollToIndex&&i.getScrollForIndex(i.props.scrollToIndex)||0,scrollChangeReason:$,_self:L()(i)},i.styleCache={},i.handleScroll=function(e){var t=i.props.onScroll,r=i.getNodeScrollOffset();r<0||i.state.scrollSize===r||e.target!==i.rootNode||(i.setState({scrollSize:r,scrollChangeReason:Z}),"function"==typeof t&&t(r,e))},i}return R()(r,[{key:"componentDidMount",value:function(){this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0});var e=this.state.scrollSize;this.scrollTo(e)}},{key:"componentDidUpdate",value:function(e,t){var r,i=this.state,o=i.scrollSize,n=i.scrollChangeReason,s=this.props.dataSource;t.scrollSize===o&&(null==e||null===(r=e.dataSource)||void 0===r?void 0:r.toString())==(null==s?void 0:s.toString())||n!==$||this.scrollTo(o)}},{key:"componentWillUnmount",value:function(){this.rootNode.removeEventListener("scroll",this.handleScroll)}},{key:"scrollTo",value:function(e){var t=this.props.scrollDirection;this.rootNode[ee[t]]=e}},{key:"getScrollForIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.scrollToAlignment,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.limit,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props.dataSource,o=this.props.scrollDirection;return r=r>(null==i?void 0:i.length)?null==i?void 0:i.length:r,(e<0||e>=r)&&(e=0),this.sizeAndPositionManager.getUpdatedScrollForIndex({align:t,containerSize:this.props[te[o]],currentOffset:this.state&&this.state.scrollSize||0,targetIndex:e})}},{key:"recomputeSizes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.styleCache={},this.sizeAndPositionManager.resetItem(e)}},{key:"getNodeScrollOffset",value:function(){var e=this.props.scrollDirection;return this.rootNode[ee[e]]}},{key:"getStyle",value:function(e){var t,r=this.styleCache[e];if(r)return r;var i=this.props.scrollDirection,o=this.sizeAndPositionManager.getSizeAndPositionForIndex(e),n=o.size,s=o.offset;return this.styleCache[e]=se(se({},ue),{},(t={},O()(t,te[i],n),O()(t,re[i],s),t))}},{key:"render",value:function(){var e=this,t=this.props,r=t.overscanCount,i=t.renderItem,o=t.dataSource,n=t.onItemsRendered,s=t.scrollDirection,l=t.style,a=t.width,c=t.height,u=t.className,d=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[te[s]]||0,scrollSize:this.state.scrollSize,overscanCount:r}),f=d.start,h=d.stop,p=se(se(se({},ae),l),{},{height:c,width:a}),m=se(se({},ce),{},O()({},te[s],this.sizeAndPositionManager.getTotalSize()));s===X&&(m.display="flex");var S="[object Array]"==oe(o)&&o.length&&A()(o).call(o,(function(t,r){if(void 0!==f&&void 0!==h&&r>=f&&r<=h){var o=i({item:t,index:r}),n=e.getStyle(r);return H.cloneElement(H.Children.only(o),{style:se(se({},o.props.style),n)})}}))||[];return void 0!==f&&void 0!==h&&"function"==typeof n&&n({startIndex:f,stopIndex:h}),H.createElement("div",{ref:function(t){return e.rootNode=t},className:u,style:p},H.createElement("div",{style:m},S))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps,i=t._self;if(r){var o,n,s=r.estimatedItemSize,l=r.limit,a=r.dataSource,c=r.itemSize,u=r.scrollOffset,d=r.scrollToAlignment,f=r.scrollToIndex,h=e.limit!==l||(null===(o=e.dataSource)||void 0===o?void 0:o.toString())!=(null==a?void 0:a.toString())||e.itemSize!==c||e.estimatedItemSize!==s;if(e.itemSize!==c&&i.sizeAndPositionManager.updateConfig({itemSizeGetter:i.itemSizeGetter(e.itemSize)}),e.limit===l&&(null===(n=e.dataSource)||void 0===n?void 0:n.toString())==(null==a?void 0:a.toString())&&e.estimatedItemSize===s||i.sizeAndPositionManager.updateConfig({limit:e.limit,dataSource:e.dataSource,estimatedItemSize:e.estimatedItemSize}),h&&i.recomputeSizes(),"number"==typeof e.scrollOffset&&(e.scrollToAlignment!==d||e.scrollOffset!==u||h))return{scrollSize:e.scrollOffset||0,scrollChangeReason:$,prevProps:e};if("number"==typeof e.scrollToIndex&&(e.scrollToAlignment!==d||e.scrollToIndex!==f||h))return{scrollSize:i.getScrollForIndex(e.scrollToIndex,e.scrollToAlignment,e.limit,e.dataSource),scrollChangeReason:$,prevProps:e}}return{prevProps:e}}}]),r}(H.PureComponent);de.defaultProps={overscanCount:3,scrollDirection:Y,estimatedItemSize:50,width:"100%"};t.default=de}]);